{"ast":null,"code":"var _jsxFileName = \"/Users/chanwookim/Desktop/Foodie_Project/Foodie/foodie/src/components/Restaurant.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GoogleMap, Marker, useLoadScript } from \"@react-google-maps/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Search = _ref => {\n  _s();\n  let {\n    onSearch\n  } = _ref;\n  const [searchTerm, setSearchTerm] = useState('');\n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n  const handleClick = () => {\n    onSearch(searchTerm);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"searchTerm\",\n      name: \"searchTerm\",\n      onChange: handleChange,\n      value: searchTerm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this);\n};\n_s(Search, \"a1cMJ8t0eYFnsCEdGcHtaGJdbCM=\");\n_c = Search;\nconst Restaurant = () => {\n  _s2();\n  const [searchResults, setSearchResults] = useState([]);\n  const [map, setMap] = useState(null);\n  const {\n    isLoaded\n  } = useLoadScript({\n    googleMapsApiKey: 'AIzaSyDC2SFtvrCtHCJkCdWKiXoLTn8CI7F8pIg'\n  });\n  useEffect(() => {\n    if (isLoaded && searchResults.length > 0 && map) {\n      const bounds = new window.google.maps.LatLngBounds();\n      searchResults.forEach(result => {\n        const {\n          latitude,\n          longitude\n        } = result.coordinates;\n        const marker = new window.google.maps.Marker({\n          position: {\n            lat: latitude,\n            lng: longitude\n          },\n          map\n        });\n        bounds.extend(marker.getPosition());\n      });\n      map.fitBounds(bounds);\n    }\n  }, [isLoaded, searchResults, map]);\n  const handleSearch = async term => {\n    try {\n      const response = await axios.get(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search`, {\n        headers: {\n          Authorization: `Bearer kk8a2BP-9sEjKki126oia8BYJurhKXV5UDpW0Zb3zuzfh3WA-K4VsdeQm0u5T7fSTidUy8PFkhx2ZZ0sqwPov0zkK1F95Eg05ZYDMjKqLyOa9iLUEHFCJIbcn6SYZHYx`,\n          'X-Requested-With': 'XMLHttpRequest'\n        },\n        params: {\n          categories: term,\n          location: 'Atlanta',\n          limit: 5\n        }\n      });\n      setSearchResults(response.data.businesses);\n    } catch (error) {\n      console.error('Error occurred while fetching data from Yelp API:', error);\n    }\n  };\n  const onMapLoad = map => {\n    setMap(map);\n  };\n  const containerStyle = {\n    width: '400px',\n    height: '400px'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Map\",\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), isLoaded ? /*#__PURE__*/_jsxDEV(GoogleMap, {\n      mapContainerStyle: containerStyle,\n      center: {\n        lat: 33.7490,\n        lng: -84.3880\n      } // Set the center to Atlanta's coordinates or your desired location\n      ,\n      zoom: 10,\n      onLoad: onMapLoad,\n      children: searchResults.map(result => /*#__PURE__*/_jsxDEV(Marker, {\n        position: {\n          lat: result.coordinates.latitude,\n          lng: result.coordinates.longitude\n        }\n      }, result.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n_s2(Restaurant, \"TtZjpOCx6SH1pYnuzVzBAj5bMnA=\", false, function () {\n  return [useLoadScript];\n});\n_c2 = Restaurant;\nexport default Restaurant;\nvar _c, _c2;\n$RefreshReg$(_c, \"Search\");\n$RefreshReg$(_c2, \"Restaurant\");","map":{"version":3,"names":["React","useState","useEffect","axios","GoogleMap","Marker","useLoadScript","jsxDEV","_jsxDEV","Search","_ref","_s","onSearch","searchTerm","setSearchTerm","handleChange","event","target","value","handleClick","children","type","id","name","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","Restaurant","_s2","searchResults","setSearchResults","map","setMap","isLoaded","googleMapsApiKey","length","bounds","window","google","maps","LatLngBounds","forEach","result","latitude","longitude","coordinates","marker","position","lat","lng","extend","getPosition","fitBounds","handleSearch","term","response","get","headers","Authorization","params","categories","location","limit","data","businesses","error","console","onMapLoad","containerStyle","width","height","className","mapContainerStyle","center","zoom","onLoad","_c2","$RefreshReg$"],"sources":["/Users/chanwookim/Desktop/Foodie_Project/Foodie/foodie/src/components/Restaurant.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GoogleMap, Marker, useLoadScript } from \"@react-google-maps/api\";\n\nconst Search = ({ onSearch }) => {\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const handleChange = (event) => {\n        setSearchTerm(event.target.value);\n    };\n\n    const handleClick = () => {\n        onSearch(searchTerm);\n    };\n\n    return (\n        <div>\n            <input\n                type=\"text\"\n                id=\"searchTerm\"\n                name=\"searchTerm\"\n                onChange={handleChange}\n                value={searchTerm}\n            />\n            <button onClick={handleClick}>Search</button>\n        </div>\n    );\n};\n\nconst Restaurant = () => {\n    const [searchResults, setSearchResults] = useState([]);\n    const [map, setMap] = useState(null);\n    const { isLoaded } = useLoadScript({\n        googleMapsApiKey: 'AIzaSyDC2SFtvrCtHCJkCdWKiXoLTn8CI7F8pIg',\n    });\n\n    useEffect(() => {\n        if (isLoaded && searchResults.length > 0 && map) {\n            const bounds = new window.google.maps.LatLngBounds();\n            searchResults.forEach((result) => {\n                const { latitude, longitude } = result.coordinates;\n                const marker = new window.google.maps.Marker({\n                    position: { lat: latitude, lng: longitude },\n                    map,\n                });\n                bounds.extend(marker.getPosition());\n            });\n            map.fitBounds(bounds);\n        }\n    }, [isLoaded, searchResults, map]);\n\n    const handleSearch = async (term) => {\n        try {\n            const response = await axios.get(\n                `https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search`,\n                {\n                    headers: {\n                        Authorization: `Bearer kk8a2BP-9sEjKki126oia8BYJurhKXV5UDpW0Zb3zuzfh3WA-K4VsdeQm0u5T7fSTidUy8PFkhx2ZZ0sqwPov0zkK1F95Eg05ZYDMjKqLyOa9iLUEHFCJIbcn6SYZHYx`,\n                        'X-Requested-With': 'XMLHttpRequest',\n                    },\n                    params: {\n                        categories: term,\n                        location: 'Atlanta',\n                        limit: 5,\n                    },\n                }\n            );\n            setSearchResults(response.data.businesses);\n        } catch (error) {\n            console.error('Error occurred while fetching data from Yelp API:', error);\n        }\n    };\n\n    const onMapLoad = (map) => {\n        setMap(map);\n    };\n\n    const containerStyle = {\n        width: '400px',\n        height: '400px',\n    };\n\n    return (\n        <div className=\"Map\">\n            <Search onSearch={handleSearch} />\n            {isLoaded ? (\n                <GoogleMap\n                    mapContainerStyle={containerStyle}\n                    center={{ lat: 33.7490, lng: -84.3880 }} // Set the center to Atlanta's coordinates or your desired location\n                    zoom={10}\n                    onLoad={onMapLoad}\n                >\n                    {searchResults.map((result) => (\n                        <Marker\n                            key={result.id}\n                            position={{\n                                lat: result.coordinates.latitude,\n                                lng: result.coordinates.longitude,\n                            }}\n                        />\n                    ))}\n                </GoogleMap>\n            ) : (\n                <h1>Loading...</h1>\n            )}\n        </div>\n    );\n};\n\nexport default Restaurant;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}